<div id="video_occasion">
  <section class="hero">
    <h1 class="h1-video gradient-text">Pour quelle occasion?</h1>
  </section>

  <div class="flex flex-row justify-center w-full">
    <%= image_tag 'left-with-star.png', class: 'image-sides left-image' %>
    <div class="content w-full flex flex-col justify-center items-center">
      <div class="text-with-image-block-occasion flex justify-center items-center mb-[72px] w-full p-text-16">
        Ipsum dolor sit amet consectetur. Dictum eu morbi ac elit enim at neque urna. Eleifend condimentum ipsum a lectus tortor est arcu. Feugiat lectus auctor cursus netus eu sit in pharetra. Convallis eget odio molestie urna phasellus etiam ac euismod justo. Ipsum tristique purus risus at ultrices non. Eget lectus diam eget feugiat nulla imperdiet ornare libero.
        <%= image_tag 'icons/occasion-icon.png', class: 'image-from-image-text-block-occasion' %>
      </div>

      <div class="flex justify-center">

        <%= form_with url: occasion_post_path, method: :post, html: { data: { turbo: false } }  do |f| %>

          <div class="occasion mb-[48px] relative inline-block w-full">

            <div class="relative inline-block w-full mb-[199px]">
              <%= f.select :occasion, options_for_select(Video.occasions.map {|k, v| [k.humanize.capitalize, k]}), {}, class: "appearance-none w-full px-4 py-2 pr-10 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:border-blue-500" %>
              <%= inline_svg_tag 'icons/select-down.svg', class: 'absolute right-[40px] top-1/2 transform -translate-y-1/2 w-[15px] h-[15px] object-contain object-center pointer-events-none' %>
            </div>

            <div class="flex items-center gap-[23px]">
                <%= image_tag "icons/attention.svg" %>
                <p class="p-text-16">Bientôt disponible : de nouvelles occasions pour votre film</p>
            </div>
          </div>

          <div class="flex justify-between">
            <%= render "videos/shared/back_button" %>
            <%= f.submit "Étape suivante", class: "black-link" %>
          </div>

        <% end %>

      </div>
    </div>
    <%= image_tag 'right-no-star.png', class: 'image-sides right-image' %>
  </div>

</div>


<style>
.image-sides {
  width: 15%; /* Allocate 15% to the images */
  object-fit: cover; /* Ensure the images fill the allocated space properly */
}

.content {
  width: 70%; /* Allocate 70% to the content block */
  padding-bottom: 150px;
}

.left-image {
  margin-right: 2.5%; /* Optional: Space between the left image and content */
}

.right-image {
  margin-left: 2.5%; /* Optional: Space between the content and right image */
}

#video_occasion .occasion {
  width: 1006px;
  height: 380px;
  padding: 54px 124px 45px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  flex-shrink: 0;
  border-radius: 20px;
  border: 1px solid var(--linear-2-transparent-20, #C9E1FF);
  background: var(--White, #FFF);
  box-shadow: 4px 4px 20px 5px rgba(13, 103, 131, 0.10);

}

#video_occasion .occasion select {
  display: flex;
  padding: var(--is_16px, 16px) var(--is_40px, 40px);
  flex-direction: column;
  align-items: flex-start;
  gap: 10px;
  border-radius: 8px;
  border: 1px solid var(--linear-2-transparent-20, #C9E1FF);
  background: var(--Blue, #F2FCFF);
  color: rgba(32, 31, 31, 0.5);

}

#video_occasion .occasion select option {
  color: var(--text-gray, #6B7280); /* Set gray text color */
  background: var(--Blue, #F2FCFF); /* Ensure options have the same background */
}


.text-with-image-block-occasion {
  width: 1062px;
  height: 198px; /* Ensure content pushes beyond this */
  border-radius: 10px;
  border: 1px solid var(--linear-2-transparent-20, #C9E1FF);
  background: var(--White, #FFF);
  box-shadow: 4px 4px 20px 5px rgba(13, 103, 131, 0.10);
  position: relative;
  box-sizing: border-box; /* Ensures padding/borders are included in dimensions */
  padding: 49px 120px;
  text-align: center;
}

.image-from-image-text-block-occasion{
  position: absolute;
  top: -55px;
  width: 110px;
  height: 110px;
  left: 50%;
  transform: translateX(-50%);
}

</style>
